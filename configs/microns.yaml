# MICRONS Configuration
# Large-scale cortical connectomics

defaults:
  - default

experiment_name: microns_seg
project_name: neurons-microns

# Data configuration for MICRONS
data:
  dataset: microns
  data_root: data/microns
  batch_size: 4
  num_workers: 4
  train_val_split: 0.2
  cache_rate: 0.5
  volume_file: volume
  segmentation_file: segmentation
  include_synapses: false
  include_mitochondria: false
  slice_mode: true

# Model configuration
model:
  type: vista3d
  in_channels: 1
  num_classes: 16
  emb_dim: 16
  feature_size: 64

# Optimizer
optimizer:
  type: adamw
  lr: 1.0e-4
  weight_decay: 1.0e-5
  scheduler:
    type: cosine
    T_max: 100
    eta_min: 1.0e-6

# Loss configuration
loss:
  weight_semantic: 1.0
  weight_ce: 1.0
  weight_iou: 0.0
  weight_dice: 0.0
  weight_instance: 1.0
  weight_pull: 1.0
  weight_push: 1.0
  weight_norm: 0.001
  delta_v: 0.5
  delta_d: 1.5
  weight_edge: 10.0
  weight_bone: 10.0
  weight_geometry: 0.0
  weight_dir: 1.0
  weight_cov: 1.0
  weight_raw: 1.0
  ignore_index: -100

# Training
training:
  max_epochs: 100
  accelerator: auto
  devices: 1
  precision: 32-true
  gradient_clip_val: 1.0
